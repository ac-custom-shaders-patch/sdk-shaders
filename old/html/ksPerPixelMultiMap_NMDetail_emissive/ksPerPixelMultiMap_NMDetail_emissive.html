<style>body{font-family:sans-serif}code{font-family:monospace}</style><h1>ksPerPixelMultiMap_NMDetail_emissive</h1><p>This shader is an exact copy of <strong>ksPerPixelMultiMap_NMDetail</strong>, but with an extra <em>txEmissive</em> map used as multiplier for emissive color. You can use a black and white mask in there, or add color. Original shader multiplies <em>txDiffuse</em> by <em>ksEmissive</em> (similar to “Multiply” blending in Photoshop), this one also adds <em>txEmissive</em> multiplication step.</p>
<p>Few examples:</p>
<ul>
<li>White <em>txDiffuse</em>, red <em>txEmissive</em>, <em>ksEmissive</em> set to <code>(1, 1, 1)</code>: red glow.</li>
<li>Red <em>txDiffuse</em>, yellow <em>txEmissive</em>, <em>ksEmissive</em> set to <code>(1, 1, 1)</code>: red glow.</li>
</ul>
<p>Set <em>emSkipDiffuseMap</em> to <code>1</code> to stop <em>txDiffuse</em> from affecting emissive color.</p>
<h3>Multi-channel mode</h3>
<p>To enable multi-channel mode, set <em>emChannelsMode</em> option to <code>1</code>. In that mode, shader will use red channel of <em>txEmissive</em> as a mask for <em>ksEmissive</em>, green channel is mask for <em>ksEmissive1</em>, blue is for <em>ksEmissive2</em> and alpha is for <em>ksEmissive3</em>. Later, in either car or track config, you can bind different emissive variables to different events, allowing you to use a single mesh for, for example, braking, parking and reverse lights without splitting.</p>
<p>If you have a symmetrical mesh, you can use more than four channels: for example, if you set <em>emMirrorChannel3As4</em> to <code>1</code>, anything on one side of symmetry plane would use <em>ksEmissive4</em> instead of <em>ksEmissive3</em>. Use <em>emMirrorDir</em> and <em>emMirrorOffset</em> to setup symmetry plane (default value for mirror direction would be <code>1 0 0</code>, to mirror from left to right; also, keep in mind it uses local mesh coordinates). With this option, you can get all car’s rear lights from a single mesh: use three normal channels for brake, parking and reverse lights, and third+fourth for turning lights (so map for turning lights would be set in alpha channel of txEmissive).</p>
